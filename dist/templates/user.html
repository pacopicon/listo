<section ng-controller="UserCtrl" class="user">
    <button type="submit" class="user-links-container">
        <a ui-sref="landing" class="navbar-link">Back to main page</a>
    </button>
    <div class="clock">
        <p><b>Time now: {{time | date: 'fullDate'}} at {{time | date: 'shortTime'}}</b></p>
    </div>
    <div class="formAndButtonContainer">
        <ol>
            <li ng-repeat="item in items | orderBy: '-rank'" class="itemsList">
            <!-- edit a message -->
              <table>
                  <tr>
                      <b>{{item.currentTime}}</b> | <b>{{item.text}}</b> | This item is due on <b>{{item.dueDate | date: 'fullDate'}}</b> at <b>{{item.dueDate | date: 'shortTime'}}</b> | It is classified as <b>{{item.importance.repeatSelect}}</b> and as <b>{{item.urgent}}</b><br> It will take <b>{{item.timeToFinish | date: 'H'}}</b> hours and<b>{{item.timeToFinish | date: 'm'}}</b> minutes to finish | Rank: <b>{{item.rank}}</b> | Active since <b>{{item.created_at | date: 'fullDate'}}, {{item.created_at | date: 'shortTime'}}</b><br>This item is due in<br><b>yrs: {{item.yearsTillDue}}<br> mths: {{item.monthsTillDue}}<br>ds: {{item.daysTillDue}}<br>hrs:  {{item.hoursTillDue}}<br>mins: {{item.minutesTillDue}}<br>secs: {{item.secondsTillDue}}</b>
                  </tr>
                  This item is due:
                  <tr>
                      <th>yrs</th><th>mths</th><th>ds</th><th>hrs</th><th>mins</th><th>secs</th>
                  </tr>
                  <tr>
                      <td>{{item.yearsTillDue}}</td><td>{{item.monthsTillDue}}</td><td>{{item.daysTillDue}}</td><td>{{item.hoursTillDue}}</td><td>{{item.minutesTillDue}}</td><td>{{item.secondsTillDue}}</td>
                  </tr>
                  <tr>
                      <td><input ng-model="item.text" ng-change="items.$save(item)" /></td>
                      <td><input ng-model="item.dueDate" type="date" ng-change="items.$save(item)"/> at <input ng-model="item.dueDate" type="time" ng-change="items.$save(item)"/></td>
                      <td><input ng-model="item.estSecsToFinish" type="number" ng-change="items.$save(item)" class="numberBox"/></td>
                      <td><input ng-model="item.importance.repeatSelect" ng-change="items.$save(item)" /></td>
                      <td><input ng-model="item.urgent" ng-change="items.$save(item)" /></td>
                      <td><button ng-click="items.$remove(item)">Delete item</button></td>
                  </tr>
              </table>
              __________________________________________________________________________________________
            </li>
        </ol>
        <!-- push a new message onto the array -->
        <form ng-submit="addItem()" class="form">
            <table>
                <tr>
                    <td>Enter item name:</td>
                    <td><input ng-model="newItemName" class="nameBox"/></td>
                </tr>
                <tr>
                    <td>Enter due date and time:</td>
                    <td><input type="date" ng-model="newDueDate" placeholder="2016-01-01" class="dateBox"/> <input type="time" ng-model="newDueTime" placeholder="01:01:00 pm" class="timeBox"/></td>
                </tr>
                <tr>
                    <td>Enter est. time to finish:</td>
                    <td><input type="number" ng-model="newHourEst" min="0" max="12" class="numberBox"/> hours and <input type="number" ng-model="newMinuteEst" min="0" max="59" class="numberBox"/> minutes </td>
                </tr>
                <tr>
                    <td>Enter priority:</td>
                    <td><select id="repeatSelect" ng-model="newImportanceTxt.repeatSelect">
                    <option ng-repeat="option in newImportanceTxt.availableOptions" value="{{option.text}}">{{option.text}}</option></select></td>
                </tr>
                <tr>
                    <td><button type="submit" class="addButton">Add to-do item</button></td>
                </tr>
            </table>
        </form>
    </div>
</section>
