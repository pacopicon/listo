<section ng-controller="UserCtrl" class="user">
    <button type="submit" class="user-links-container">
        <a ui-sref="landing" class="navbar-link">Back to main page</a>
    </button>
    <div class="formAndButtonContainer">
        <ol>
            <li ng-repeat="item in items" class="itemsList">
            <!-- edit a message -->
              <table>
                  <tr>
                      <th>Name:</th>
                      <td><input ng-model="item.text" ng-change="items.$save(item)" />{{item.text}}</td>
                  </tr>
                  <tr>
                      <th>Due on:</th>
                      <td><input ng-model="item.dueDate" ng-change="items.$save(item)"/><input ng-model="item.dueTime" ng-change="items.$save(item)"/>{{item.dueDate | date: 'fullDate'}} at {{item.dueTime | date: 'shortTime' }}</td>
                  </tr>
                  <tr>
                      <th>This will take:</th>
                      <td><input ng-model="item.hourEst" ng-change="items.$save(item)" class="numberBox"/>{{item.hourEst}} hours and <input ng-model="item.minuteEst" ng-change="items.$save(item)" class="numberBox"/>{{item.minuteEst}} minutes</td>
                  </tr>
                  <tr>
                      <th>How important is it?:</th>
                      <td><input ng-model="item.importance.repeatSelect" ng-change="items.$save(item)" />{{item.importance.repeatSelect}}</td>
                  </tr>
                  <tr>
                      <th>completed?:</th>
                      <td><input ng-model="item.completed" ng-change="items.$save(item)" />{{item.completed}}</td>
                  </tr>
                  <tr>
                      <th>urgent?:</th>
                      <td><input ng-model="item.urgent" ng-change="items.$save(item)" />{{item.urgent}}</td>
                  </tr>
                  <tr>
                      <th>rank:</th>
                      <td>{{item.rank}}</td>
                  </tr>
                  <tr>
                      <th>active since</th>
                      <td>{{item.created_at | date: 'fullDate'}}, {{item.created_at | date: 'shortTime'}}</td>
                  </tr>
                  <!-- <input ng-model="item.created_at" ng-change="items.$save(item)" /> -->
                  <!-- delete a message -->
                  <tr>
                      <td><button ng-click="items.$remove(item)">Delete Message</button></td>
                  </tr>
              </table>
              __________________________________________________________________________________________
            </li>
        </ol>
        <!-- push a new message onto the array -->
        <form ng-submit="addItem()" class="form">
            <table>
                <tr>
                    <td>Enter item name:</td>
                    <td><input ng-model="newItemName" class="nameBox"/></td>
                </tr>
                <tr>
                    <td>When is it due?</td>
                    <td><input type="date" ng-model="newDate" placeholder="yyyy-MM-dd" class="dateBox"/><input type="time" ng-model="newTime" placeholder="HH:mm:ss" class="timeBox"/></td>
                </tr>
                <tr>
                    <td>How long will it take?</td>
                    <td><input type="number" ng-model="newHour" min="0" max="12"/> hours and <input type="number" ng-model="newMinute" min="0" max="59"/> minutes </td>
                </tr>
                <tr>
                    <td>How important is it?</td>
                    <td><select name="How important is it?" id="repeatSelect" ng-model="newImportanceTxt.repeatSelect">
                    <option ng-repeat="option in newImportanceTxt.availableOptions" value="{{option.text}}">{{option.text}}</option></select></td>
                </tr>
                <tr>
                    <td><button type="submit" class="addButton">Add to-do item</button></td>
                </tr>
            </table>
        </form>
    </div>
</section>
